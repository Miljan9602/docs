---
title: "Get Markets"
api: "POST https://your-solver.example.com/api/v1/markets"
---

<Note>
  This endpoint is called by the RFQ Coordinator to query which markets a solver supports. Solvers must implement this endpoint.
</Note>

Returns the list of trading pairs this solver provides liquidity for.

## Headers

<ParamField header="Authorization" type="string" required>
  Bearer token for authentication: `Bearer <auth_key>`
</ParamField>

## Request Body

<ParamField body="chain_id" type="string" required>
  The blockchain chain ID for a supported network
</ParamField>

## Response

<ResponseField name="status" type="string">
  Response status: `"ok"` on success, `"error"` on failure
</ResponseField>

<ResponseField name="markets" type="array">
  List of supported trading pairs
  <Expandable title="Market object">
    <ResponseField name="input_token" type="string">
      The input token address (0x-prefixed)
    </ResponseField>
    <ResponseField name="output_token" type="string">
      The output token address (0x-prefixed)
    </ResponseField>
    <ResponseField name="min_size" type="number | null">
      Minimum trade size in input token units
    </ResponseField>
    <ResponseField name="max_size" type="number | null">
      Maximum trade size in input token units. Should reflect your output token balance converted to input token units.
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>
```bash cURL (from RFQ Coordinator)
curl -X POST "https://solver.example.com/api/v1/markets" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer your_auth_key" \
  -d '{"chain_id": "<CHAIN_ID>"}'
```
</RequestExample>

<ResponseExample>
```json 200 - Success
{
  "status": "ok",
  "markets": [
    {
      "input_token": "0x3894085ef7ff0f0aedf52e2a2704928d1ec074f1",
      "output_token": "0xe30fedd158a2e3b13e9badaeabafc5516e95e8c7",
      "min_size": 100.00,
      "max_size": 5000.00
    },
    {
      "input_token": "0xe30fedd158a2e3b13e9badaeabafc5516e95e8c7",
      "output_token": "0x3894085ef7ff0f0aedf52e2a2704928d1ec074f1",
      "min_size": 100.00,
      "max_size": 12000.00
    }
  ]
}
```

```json 400 - Validation Error
{
  "status": "error",
  "error": "chain_id: Required",
  "code": "VALIDATION_INVALID_PARAM"
}
```
</ResponseExample>

## WSS Equivalent

For WebSocket solvers, the coordinator sends a `get_markets` message and expects a `markets_response`.

**Request (Coordinator -> Solver):**
```json
{
  "action": "get_markets",
  "request_id": "2198702c-bcad-4110-baae-e62e7b34ea71",
  "data": {
    "chain_id": "1329"
  }
}
```

**Response (Solver -> Coordinator):**
```json
{
  "action": "markets_response",
  "request_id": "2198702c-bcad-4110-baae-e62e7b34ea71",
  "success": true,
  "data": [
    {
      "chain_id": "1329",
      "input_token": "0x3894085ef7ff0f0aedf52e2a2704928d1ec074f1",
      "output_token": "0xe30fedd158a2e3b13e9badaeabafc5516e95e8c7",
      "min_size": 100,
      "max_size": 5000
    },
    {
      "chain_id": "1329",
      "input_token": "0xe30fedd158a2e3b13e9badaeabafc5516e95e8c7",
      "output_token": "0x3894085ef7ff0f0aedf52e2a2704928d1ec074f1",
      "min_size": 100,
      "max_size": 12000
    }
  ]
}
```

<Note>
  WSS markets are synced automatically on connect and every 60 seconds. See the [WebSocket Guide](/solver/websocket-guide) for full details.
</Note>

## Implementation Example

```typescript
import { successResponse, errorResponse, ErrorCodes } from "rfq-api";

app.post("/api/v1/markets", (req, res) => {
  const { chain_id } = req.body;

  // Return supported markets (both directions with max_size in input token units)
  res.json(
    successResponse({
      markets: [
        {
          input_token: "0x3894085ef7ff0f0aedf52e2a2704928d1ec074f1",
          output_token: "0xe30fedd158a2e3b13e9badaeabafc5516e95e8c7",
          min_size: 100.0,
          max_size: 5000.0, // based on output token balance
        },
        {
          input_token: "0xe30fedd158a2e3b13e9badaeabafc5516e95e8c7",
          output_token: "0x3894085ef7ff0f0aedf52e2a2704928d1ec074f1",
          min_size: 100.0,
          max_size: 12000.0, // based on output token balance
        },
      ],
    })
  );
});
```

## Notes

- Return both directions for each pair (A→B and B→A as separate entries). `max_size` should reflect your output token balance converted to input token units
- `min_size` and `max_size` are in input token units (not USD)
- Authenticate requests using the shared auth key
